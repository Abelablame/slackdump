<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slackdump Viewer</title>
    <style>
        .container {
            display: flex;
            height: 100vh;
        }

        .channel-list {
            flex: 0 0 25%;
            overflow-y: auto;
            border-right: 1px solid #ccc;
        }

        .conversations,
        .thread {
            flex: 1;
            overflow-y: auto;
        }

        .thread {
            display: none;
        }
    </style>
</head>

<body>
    <h1>Slackdump ({{.Name}})</h1>
    <div class="container">
        <section class="channel-list">
            <!-- Channel list goes here -->
            {{ if ( or .Public .Private) }}
            <h2>Channels</h2>
            <menu>
                {{ range $i, $el := .Public }}
                <li><a href="#">{{ rendername $el }}</a></li>
                {{ end }}
                {{ range $i, $el := .Private }}
                <li><a href="#">{{ rendername $el }}</a></li>
                {{ end }}
            </menu>
            {{ end }}
            {{ if (or .MPIM .DM) }}
            <h2>Direct</h2>
            <menu>
                {{ range $i, $el := .MPIM }}
                <li><a href="#">{{ rendername $el }}</a></li>
                {{ end }}
                {{ range $i, $el := .DM }}
                <li><a href="#">{{ rendername $el }}</a></li>
                {{ end }}
            </menu>
            {{ end }}
        </section>
        <section class="conversations">
            <!-- Conversations go here -->
            <article class="message">
                <div class="message-header">
                    <span class="message-sender">@user1</span>
                    <span class="message-timestamp">10:00 AM</span>
                </div>
                <div class="message-content">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod, nunc ac aliquet tincidunt,
                    justo
                    mauris
                    tincidunt urna, vitae lacinia nisl nunc id nunc. Sed euismod, nunc ac aliquet tincidunt, justo
                    mauris
                    tincidunt urna, vitae lacinia nisl nunc id nunc.
                </div>
                <div class="thread-info"><a href="#">Replies: 42</a></div>
            </article>
        </section>
        <section class="thread">
            <!-- Thread messages go here -->
            <h2>Thread: 124912041.293</h2>
            <p>Close: <a id="close-thread" href="#">X</a></p>
            <article class="message">
                <div class="message-header">
                    <span class="message-sender">@user2</span>
                    <span class="message-timestamp">10:05 AM</span>
                </div>
                <div class="message-content">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod, nunc ac aliquet tincidunt,
                    justo
                    mauris
                    tincidunt urna, vitae lacinia nisl nunc id nunc. Sed euismod, nunc ac aliquet tincidunt, justo
                    mauris
                    tincidunt urna, vitae lacinia nisl nunc id nunc.
                </div>
        </section>
    </div>
    <script>
        document.querySelectorAll('.thread-info a').forEach(function (link) {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                // document.querySelector('.conversations').style.display = 'none';
                // document.querySelector('.thread').style.display = 'block';
                document.querySelector('.conversations').style.flex = '0 0 40%';
                document.querySelector('.thread').style.display = 'block';
                document.querySelector('.thread').style.flex = '1';
                // Load thread messages into .thread div here
            });
        });
        document.getElementById('close-thread').addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector('.conversations').style.flex = '1';
            document.querySelector('.thread').style.display = 'none';
        });
    </script>
</body>

</html>
